ClimateGuard CG LED: Новый Год к нам мчится… / Хабр
Все потоки Войти 2248.8 Общий рейтинг Timeweb Cloud То самое облако Подписаться smart_alex 2
дек
2023 в 08:01 ClimateGuard CG LED: Новый Год к нам мчится… Простой 5 мин 5.5K Блог компании Timeweb Cloud Программирование микроконтроллеров
*
Arduino
*
DIY или Сделай сам Интернет вещей Обзор
Эта статья посвящена обзору универсальной платы управления светодиодными лентами ClimateGuard CG LED. В ней даётся краткое описание устройства платы контроллера CG LED и мои первые впечатления от работы с ней. В статье также упоминается первичная настройка прошивки WLED, которой штатно комплектуется контроллер.
Пока это только обзор платы без реализации каких-либо проектов на ней, возможно этой теме будут посвящены последующие статьи.
❯
ClimateGuard CG LED
CG LED попал мне в руки совсем по другому случаю и вначале я не обратил на него особого внимания — положил в коробку с мыслью разобраться с ним попозже, когда до него дойдут руки. В коробке он пролежал месяца два, потом я его посмотрел, почитал спецификации и понял, что это как раз то, чего мне не хватало для создания проектов контроллеров иллюминации.
❯
Версии CG LED
В сети доступна документация на плату CG LED версии 1.0 (только общее описание, без принципиальной электрической схемы). На момент написания статьи актуальной версией является 1.1. В принципе, ��то очень похожие платы, но различия всё-таки есть — немного изменён функционал, распиновка разъёмов и т. п. В моём распоряжении имеется версия 1.1 и все написанное в статье относится преимущественно к ней.
❯
Поддерживаемые ленты
Здесь присутствует поддержка как 5-вольтовых, так и 12(24)-вольтовых светодиодных лент, причём как на RGBW (30А, 6А на канал), так и на «умных» адресных светодиодах. Крепление выводов ленты осуществляется очень удобно (в отличие от DIY проводков и макетных плат) — достаточно просто закрепить выводы в колодках. Плюс есть «защита от переполюсовки и паразитной индуктивности светодиодной ленты».
❯
Питание
Поддерживается питание как от разъёма USB Type-C (плюс возможность программирования), так и от отдельной колодки 5/12/24 В, что тоже удобно: для первичных тестов с небольшим количеством светодиодов CG LED можно запитать от USB порта компьютера, для большего количества светодиодов можно использовать запитку от отдельного блока питания с USB разъёмом (до 2А), а для окончательной инсталляции можно запитать контроллер и всю систему через колодку питания.
❯
Дополнительное управление
Кроме дефолтных Wi-Fi и Bluetooth модуля ESP32, контроллер CG LED содержит ещё три дополнительных канала управления: приёмник инфракрасного (IR) излучения, разъём для подключения приёмного модуля на 433 МГц и разъём для подключения популярного беспроводного модуля nRF24L01.
❯
IR sensor
На плате предусмотрено место для установки приёмника инфракрасного излучения для обеспечения беспроводного управления контроллером. Правда в моём случае инфракрасный датчик не был установлен, но это легко поправить — этот датчик недорогой и широко распространён.
❯
Приёмник на 433 МГц
Приёмник на 433 МГц подключается к разъёму со свободными пинами «Free GPIO» (см. ниже). В предыдущей версии (v1.0) это был короткий разъём, прямо предназначенный для подключения модуля 433 МГц, в моей версии CG LED (v1.1) это расширенный разъём с добавленными в него дополнительными GPIO и выполненный в виде штырьков, но подключать модуль 433 МГц нужно именно к нему (обратив внимание на соответствие контактов разъёма и модуля).
❯
Модуль nRF24L01
Вообще роскошная функция (для тех, «кто понимает») — наличие на борту разъёма для подключения модуля nRF24L01 — можно интегрировать CG LED в вашу беспроводную nRF24 сеть, если она у вас есть (у меня — есть).
❯
Разъём «Free GPIO»
Разъём «Free GPIO» с шестью свободными для использования пинами ESP32, он же, по совместительству, разъём для подключения беспроводного приёмника на 433 МГц. Эти контакты можно использовать по собственному усмотрению для подключения дополнительного оборудования к CG LED и расширения его функционала.
❯
Кнопки
CG LED обладает двумя кнопками (BOOT/GPIO0 и RST/EN) и разъёмом для подключения выносной кнопки «USER» (ClimateGuard заботится о нас).
❯
Внешний вид
Выше в статье был скетч (рисунок) платы CG LED, взятый из даташита на версию 1.0 и творчески переработанный для отображения внешнего вида и особенностей версии 1.1. Ниже вы можете видеть реальное фото внешнего вида CG LED, имеющегося в моём распоряжении.
Вид обратной стороны платы. Производитель, в отличи от контроллера CG Mini, почему-то на стал подписывать назначение контактов в разъёмах (а жаль — это было очень удобно).
❯
Распиновка
Как я уже заметил выше, производитель не открывает принципиальную схему контроллера, поэтому нам остаётся только собирать по крохам нужную информацию. Ниже представлена распиновка CG LED, составленная мной по доступной информации.
❯
Для тех кто не любит программировать
CG LED — это готовая платформа для реализации любых ваших проектов со светодиодными лентами — подключил несколько проводов — и реализуй любые свои (программные) идеи по созданию иллюминации.
Но компания ClimateGuard пошла дальше и штатно комплектует CG LED готовой прошивкой WLED. Как оказалось, это популярная и довольно продвинутая прошивка для управления светодиодными лентами. Настолько продвинутая, что я даже засомневался, а надо ли мне всё это программировать самостоятельно? (на самом деле, конечно, надо).
Другими словами, тем кто не любит (не умеет или не имеет времени) программировать достаточно просто подключить светодиодную ленту и питание к CG LED и всё — функционал более чем достаточен для любого разумного применения LED иллюминации.
❯
WLED
WLED — это довольно продвинутая штука, она имеет множество светодиодных эффектов, развитые настройки, может управляться через веб-интерфейс или через приложение для смартфонов и т. д.
Начальная настройка очень проста: вам нужно найти в списке Wi-Fi сетей WLED-AP и подключиться к ней — в результате вы увидите следующее приветствие, где вам нужно нажать на кнопку «WIFI SETTINGS».
Далее просто ввести название вашей Wi-Fi сети и пароль к ней и сохранить изменения. После этого можно будет управлять контроллером из вашего браузера на компьютере (или вы можете установить на смартфон фирменное приложение).
После этого можно будет зайти в веб-интерфейс контроллера и произвести там любые настройки и задать нужные режимы работы.
Я попробовал — действительно всё очень просто, красиво и прекрасно работает — достаточно подключить имеющуюся ленту и указать в настройках количество светодиодов в ней.
Тестовый запуск с короткой 5-вольтовой лентой на WS2812 и питанием от USB
❯
Заключение
Мне CG LED понравился своей продуманностью и законченностью как решение по управлению светодиодными лентами, которое можно программировать как угодно (для тех, кто это умеет) или использовать с готовой прошивкой, установленной «прямо из коробки» (для тех, кому программирование не интересно).
❯
P. S.
Но и это ещё не всё. Цитата из даташита на CG LED:
Так что пытливым естествоиспытателям будет чем заняться долгими зимними вечерами, реализуя свои творческие идеи с CG LED.
Возможно, захочется почитать и это:
➤
Работа с листовым стеклом в домашней мастерской. Сложная ручная резка, обработка краёв
➤
Нейросеть мне в помощь или как я сделал телеграм бота, который умеет переводить песни
➤
Stable vs Photoshop: сравнение генераций
➤
Измерение скорости чтения-записи носителей с помощью утилиты dd
➤
Как создавался Halo
Теги: timeweb_статьи микроконтроллеры программирование Arduino IoT интернет вещей smart home умный дом ClimateGuard CG LED Хабы: Блог компании Timeweb Cloud Программирование микроконтроллеров Arduino DIY или Сделай сам Интернет вещей +14 26 24 Timeweb Cloud То самое облако 131 Карма 0.2 Общий рейтинг @smart_alex Пользователь Подписаться
Комментарии 24
Публикации Лучшие за сутки Похожие Информация Сайт timeweb.cloud Дата регистрации 11
августа
2011 Дата основания 25
мая
2006 Численность 201–500 человек Местоположение Россия Представитель Timeweb Cloud Ваш аккаунт Войти Регистрация Разделы Статьи Новости Хабы Компании Авторы Песочница Информация Устройство сайта Для авторов Для компаний Документы Соглашение Конфиденциальность Услуги Корпоративный блог Медийная реклама Нативные проекты Образовательные программы Стартапам
Настройка языка Техническая поддержка © 2006–2025,
Habr